(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{3285:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var i=a(5155),s=a(2115),n=a(2108);let l=e=>{let t,a=new Set,i=(e,i)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=i?i:"object"!=typeof s||null===s)?s:Object.assign({},t,s),a.forEach(a=>a(t,e))}},s=()=>t,n={setState:i,getState:s,getInitialState:()=>l,subscribe:e=>(a.add(e),()=>a.delete(e))},l=t=e(i,s,n);return n},r=e=>{let t=(e=>e?l(e):l)(e),a=e=>(function(e,t=e=>e){let a=s.useSyncExternalStore(e.subscribe,s.useCallback(()=>t(e.getState()),[e,t]),s.useCallback(()=>t(e.getInitialState()),[e,t]));return s.useDebugValue(a),a})(t,e);return Object.assign(a,t),a},c=(e=>e?r(e):r)(e=>({email:null,authenticated:!1,freeRemaining:0,paidCredits:0,setAuth:t=>e(e=>({...e,...t})),reset:()=>e({email:null,authenticated:!1,freeRemaining:0,paidCredits:0})}));var d=a(3988);function u(){let{data:e}=(0,n.useSession)(),t=c(e=>e.setAuth),a=c(e=>e.email),l=c(e=>e.freeRemaining),r=c(e=>e.paidCredits);return(0,s.useEffect)(()=>{(async()=>{if(!e)return;let a=e.idToken,i=await fetch("".concat(d.H,"/api/user/me"),{headers:{Authorization:"Bearer ".concat(a)}}),s=await i.json();t({authenticated:s.authenticated,email:s.email,freeRemaining:s.freeRemaining,paidCredits:s.paidCredits})})()},[e,t]),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h1",{className:"text-xl font-semibold text-sky-800",children:"Your Account"}),(0,i.jsxs)("div",{className:"rounded-lg border bg-white p-4",children:[(0,i.jsxs)("div",{className:"text-slate-700",children:["Email: ",a||"-"]}),(0,i.jsxs)("div",{className:"text-slate-700",children:["Free remaining today: ",l]}),(0,i.jsxs)("div",{className:"text-slate-700",children:["Paid credits: ",r]})]})]})}},3988:(e,t,a)=>{"use strict";a.d(t,{H:()=>i});let i="http://localhost:8080"},7131:(e,t,a)=>{Promise.resolve().then(a.bind(a,3285))}},e=>{e.O(0,[108,441,964,358],()=>e(e.s=7131)),_N_E=e.O()}]);